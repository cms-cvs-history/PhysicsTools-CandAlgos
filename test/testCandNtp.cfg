process Gen =
{
untracked PSet maxEvents = {untracked int32 input = 10}

   include "FWCore/MessageService/data/MessageLogger.cfi"

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 123456789
   }

   include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"


   source = FlatRandomEGunSource
   {
      untracked PSet PGunParameters =
      {
         untracked vint32 PartID = { 13 }
         untracked double MinEta = -2.7
         untracked double MaxEta = 2.7
         untracked double MinPhi = -3.14159265358979323846 # in radians
         untracked double MaxPhi =  3.14159265358979323846
         untracked double MinE  = 10.
         untracked double MaxE  = 10.
      }
      untracked bool AddAntiParticle = true # back-to-back particles
      untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }

  include "PhysicsTools/UtilAlgos/data/TFileService.cfi"

  module genParticles = GenParticleProducer {
    InputTag src = source
  }

  module ntp = CandViewNtpProducer {
    InputTag src = genParticles
    VPSet variables = {
      {
        untracked string tag      = "Pt"
        untracked string quantity = "pt"
      },
      {
        untracked string tag      = "Eta"
        untracked string quantity = "eta"
      },
      {
        untracked string tag      = "Phi"
        untracked string quantity = "phi"
      }
    }
  }

  module out = PoolOutputModule {
    untracked string fileName = "ntp.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_ntp_*_*"
    }
  }

  path p1 = {genParticles, ntp}
  endpath e = {out}

}

