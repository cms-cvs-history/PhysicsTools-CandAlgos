process CandHistoTest = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "PhysicsTools/UtilAlgos/data/TFileService.cfi"

  service = Timing { } 

  untracked PSet maxEvents = { untracked int32 input = 10 }

  source = PoolSource {
    untracked vstring fileNames = { "file:stableParticles.root" }
  }

  block histograms = {
    VPSet histograms = {
      {
        untracked double min          =   0.0
        untracked double max          = 200.0 
        untracked int32 nbins         =    50
        untracked string name         = "muon transverse momentum [GeV/c]"
        untracked string plotquantity = "pt"
      }
    }
  }

  module stableParticleHisto = CandViewHistoAnalyzer {
    InputTag src = stableParticles
    using histograms
  }

  module stableParticleRefHisto = CandViewHistoAnalyzer {
    InputTag src = stableParticleRefs
    using histograms
  }

  module stableParticleBaseRefHisto = CandViewHistoAnalyzer {
    InputTag src = stableParticleBaseRefs
    using histograms
  }

  module printEventNumber = AsciiOutputModule { 
  }

  path select = { 
    stableParticleHisto,
    stableParticleRefHisto,
    stableParticleBaseRefHisto
  }
 	
  endpath ep = { printEventNumber }
}
