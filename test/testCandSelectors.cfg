process CandSelectorTest = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service = Timing { } 

  untracked PSet maxEvents = { untracked int32 input = 10 }

  # this test assumes there are Z->e+e- in the input file
  source = PoolSource {
    untracked vstring fileNames = { "file:genevents.root" }
  }

  module out = PoolOutputModule {
    untracked string fileName = "stableParticles.root"
  }

  module stableParticles = StatusCandSelector {
    InputTag src = genParticleCandidates
    vint32 status = { 1 }
  }

  module stableParticleRefs = StatusCandSelector {
    InputTag src = genParticleCandidates
    vint32 status = { 1 }
  }

  module stableParticleBaseRefs = StatusCandSelector {
    InputTag src = genParticleCandidates
    vint32 status = { 1 }
  }

  module printEventNumber = AsciiOutputModule { 
  }

  path select = { 
    stableParticles,
    stableParticleRefs,
    stableParticleBaseRefs
  }
 	
  endpath ep = { printEventNumber, out }
}
