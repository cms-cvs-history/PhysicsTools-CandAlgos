process CandSelectorTest = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  untracked PSet maxEvents = { untracked int32 input = 10 }

  source = PoolSource {
    untracked vstring fileNames = { "file:genevents.root" }
  }

  # select the 10 particles with the larget Pt
  module largestPtCands = LargestPtCandSelector {
    InputTag src = genParticleCandidates
    uint32 maxNumber = 10
  }

  # select only electrons, and save a vector of references 
  module electronRefs = PdgIdCandRefVectorSelector {
    InputTag src = genParticleCandidates
    vint32 pdgId = { 11 }
  }

# select only electrons within eta and Pt cuts 
#  module bestElectrons = EtaPtMinCandViewSelector {
#    InputTag src = electrons
#    double ptMin = 20
#    double etaMin = -2.5
#    double etaMax = 2.5
#  }

  module out = PoolOutputModule {
    untracked string fileName = "cands.root"
  }

  module printEventNumber = AsciiOutputModule { 
  }

  path select = { 
    largestPtCands, 
    electronRefs 
#   bestElectrons 
  }
 	
  endpath ep = { printEventNumber, out }
}
